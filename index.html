<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pour Lana, Mon Amour ❤️</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Inter:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
    <link href="./dist/output.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>

    <!-- Leaflet CSS and JS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <style>
      #map {
        width: 100%;
        height: 400px;
        border-radius: 8px;
      }
      .custom-popup {
        font-family: "Dancing Script", cursive;
        font-size: 1.2em;
        text-align: center;
        color: #ff6b6b;
        padding: 5px;
        margin: -5px; /* Compenser le padding de Leaflet */
        line-height: 1.4;
      }
      .leaflet-popup-content-wrapper {
        border-radius: 15px;
        padding: 5px;
        background: rgba(255, 255, 255, 0.95);
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
      }
      .leaflet-popup-tip {
        background: rgba(255, 255, 255, 0.95);
      }
      .heart-marker {
        font-size: 1.5rem;
        text-align: center;
        line-height: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        animation: pulse 2s infinite;
        position: relative;
        left: 100px;
        top: 100px;
      }
      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.2);
        }
        100% {
          transform: scale(1);
        }
      }
      .pulse-animation {
        animation: pulse 2s infinite;
      }
      @keyframes float {
        0% {
          transform: translateY(0) rotate(0deg);
        }
        50% {
          transform: translateY(-20px) rotate(5deg);
        }
        100% {
          transform: translateY(0) rotate(0deg);
        }
      }
      .heart {
        position: fixed;
        font-size: 2rem;
        color: rgba(255, 107, 107, 0.2);
        pointer-events: none;
        z-index: -1;
      }

      .swiper {
        width: 100%;
        height: 600px;
      }

      .swiper-slide {
        text-align: center;
        background: #fff;
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100% !important;
        height: 100% !important;
      }

      .swiper-slide img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        max-width: 100%;
        max-height: 100%;
      }

      .swiper-pagination-bullet-active {
        background: #ff6b6b !important;
      }

      .swiper-button-next,
      .swiper-button-prev {
        color: #ff6b6b !important;
      }
    </style>
  </head>
  <body class="antialiased">
    <!-- Floating Hearts -->
    <div class="fixed inset-0 pointer-events-none">
      <div class="heart" style="top: 10%; left: 10%">❤️</div>
      <div class="heart" style="top: 20%; left: 80%">❤️</div>
      <div class="heart" style="top: 60%; left: 30%">❤️</div>
      <div class="heart" style="top: 80%; left: 70%">❤️</div>
    </div>

    <div class="container mx-auto px-4 max-w-4xl">
      <!-- Header -->
      <header class="py-16 text-center">
        <div class="relative">
          <img
            src="./src/profile.jpg"
            alt="Lucas et Lana"
            class="mx-auto w-48 h-48 rounded-full object-cover mb-4 border-4 border-brand-primary shadow-lg hover:scale-105 transition-transform duration-300"
            style="
              object-position: center;
              image-rendering: auto;
              transform: translateZ(0);
              will-change: transform;
            "
            loading="eager"
          />
          <div class="absolute -top-2 -right-2 text-2xl animate-bounce">❤️</div>
        </div>
        <h1 class="text-5xl font-romantic font-bold text-brand-primary">
          Lana, Mon Amour
        </h1>
        <p class="text-2xl font-romantic text-brand-accent mt-2">
          10 Ans d'Amour et de Bonheur
        </p>
        <p class="text-xl font-romantic text-gray-700 mt-4">
          14 Février 2015 - 14 Février 2025
        </p>
      </header>

      <!-- Valentine's Message -->
      <section id="valentine" class="mb-12">
        <div class="card text-center">
          <h2 class="text-4xl font-romantic text-brand-accent mb-4">
            Ma Chérie
          </h2>
          <p class="text-xl font-romantic text-gray-700">
            Dix années se sont écoulées depuis que nos chemins se sont croisés,
            et chaque jour à tes côtés est plus beau que le précédent. Cette
            page est mon cadeau pour toi, une petite partie de mon cœur sur
            internet.
          </p>
        </div>
      </section>

      <!-- Notre Histoire -->
      <section id="about" class="mb-12">
        <h2 class="section-title">Notre Belle Histoire</h2>
        <div class="card">
          <p class="text-gray-700 font-romantic text-lg mb-4">
            Depuis ce jour magique où nos regards se sont croisés, tu illumines
            ma vie de ton amour. Dix ans de rires, de voyages, de moments
            partagés, de défis relevés ensemble.
          </p>
          <p class="text-gray-700 font-romantic text-lg">
            Tu es ma confidente, ma meilleure amie, mon âme sœur. Chaque moment
            passé avec toi est un trésor que je chéris.
          </p>
        </div>
      </section>

      <!-- Lieu de Notre Rencontre -->
      <section id="meeting-place" class="mb-12">
        <h2 class="section-title">Là Où Tout a Commencé</h2>
        <div class="card">
          <p class="font-romantic text-xl text-gray-700 mb-6 text-center">
            C'est ici, au Mans, que nos chemins se sont croisés pour la première
            fois,<br />
            un moment magique gravé dans mon cœur à jamais.
          </p>
          <div id="map"></div>
        </div>
      </section>

      <!-- 10 Raisons -->
      <section id="reasons" class="mb-12">
        <h2 class="section-title">10 Raisons Pourquoi Je T'aime</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="card text-center group">
            <i
              data-feather="heart"
              class="mx-auto mb-2 text-brand-primary group-hover:text-brand-accent"
            ></i>
            <h3 class="font-romantic">Ton Sourire Magique</h3>
          </div>
          <div class="card text-center group">
            <i
              data-feather="star"
              class="mx-auto mb-2 text-brand-primary group-hover:text-brand-accent"
            ></i>
            <h3 class="font-romantic">Ta Gentillesse Infinie</h3>
          </div>
          <div class="card text-center group">
            <i
              data-feather="sun"
              class="mx-auto mb-2 text-brand-primary group-hover:text-brand-accent"
            ></i>
            <h3 class="font-romantic">Ta Force Inspirante</h3>
          </div>
          <div class="card text-center group">
            <i
              data-feather="music"
              class="mx-auto mb-2 text-brand-primary group-hover:text-brand-accent"
            ></i>
            <h3 class="font-romantic">Nos Fous Rires</h3>
          </div>
          <div class="card text-center group">
            <i
              data-feather="coffee"
              class="mx-auto mb-2 text-brand-primary group-hover:text-brand-accent"
            ></i>
            <h3 class="font-romantic">Nos Matins Câlins</h3>
          </div>
          <div class="card text-center group">
            <i
              data-feather="map"
              class="mx-auto mb-2 text-brand-primary group-hover:text-brand-accent"
            ></i>
            <h3 class="font-romantic">Nos Aventures</h3>
          </div>
          <div class="card text-center group">
            <i
              data-feather="home"
              class="mx-auto mb-2 text-brand-primary group-hover:text-brand-accent"
            ></i>
            <h3 class="font-romantic">Notre Petit Nid</h3>
          </div>
          <div class="card text-center group">
            <i
              data-feather="moon"
              class="mx-auto mb-2 text-brand-primary group-hover:text-brand-accent"
            ></i>
            <h3 class="font-romantic">Nos Soirées Cozy</h3>
          </div>
          <div class="card text-center group">
            <i
              data-feather="gift"
              class="mx-auto mb-2 text-brand-primary group-hover:text-brand-accent"
            ></i>
            <h3 class="font-romantic">Tes Petites Attentions</h3>
          </div>
          <div class="card text-center group">
            <i
              data-feather="heart"
              class="mx-auto mb-2 text-brand-primary group-hover:text-brand-accent"
            ></i>
            <h3 class="font-romantic">Notre Amour Infini</h3>
          </div>
        </div>
      </section>

      <!-- Nos Moments -->
      <section id="moments" class="mb-12">
        <h2 class="section-title">Nos Plus Beaux Moments</h2>
        <div class="card p-6">
          <div class="swiper">
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <img src="./src/photos/moment1.jpg" alt="Moment 1" />
              </div>
              <div class="swiper-slide">
                <img src="./src/photos/moment2.jpg" alt="Moment 2" />
              </div>
              <div class="swiper-slide">
                <img src="./src/photos/moment3.jpg" alt="Moment 3" />
              </div>
              <div class="swiper-slide">
                <img src="./src/photos/moment4.jpg" alt="Moment 4" />
              </div>
              <div class="swiper-slide">
                <img src="./src/photos/moment5.jpg" alt="Moment 5" />
              </div>
            </div>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
          </div>
        </div>
      </section>

      <!-- Message Final -->
      <section id="message" class="mb-12">
        <div class="card text-center">
          <h2 class="text-3xl font-romantic text-brand-accent mb-4">
            Pour les 10 Prochaines Années...
          </h2>
          <p class="font-romantic text-xl mb-6">
            Je promets de continuer à t'aimer chaque jour davantage,<br />
            de te faire rire, de te soutenir,<br />
            et de construire notre bonheur ensemble.<br /><br />
            Je t'aime infiniment, ma Lana ❤️
          </p>
          <p class="font-romantic text-2xl text-brand-primary">- Lucas</p>
        </div>
      </section>
    </div>

    <footer class="text-center py-4 text-brand-primary font-romantic">
      10 ans d'amour et une éternité à venir ❤️
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
      // Initialize Feather Icons
      feather.replace();

      // Initialize Swiper
      const swiper = new Swiper(".swiper", {
        slidesPerView: 1, // Une seule image à la fois
        spaceBetween: 0,
        autoplay: {
          delay: 3000, // Change image every 3 seconds
          disableOnInteraction: false, // Continue autoplay after user interaction
        },
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
      });

      // Add random movement to hearts
      document.querySelectorAll(".heart").forEach((heart) => {
        setInterval(() => {
          heart.style.transform = `translate(${Math.random() * 20 - 10}px, ${
            Math.random() * 20 - 10
          }px)`;
        }, 3000);
      });

      // Initialize Leaflet map
      document.addEventListener("DOMContentLoaded", function () {
        try {
          const location = [48.0236570368686, 0.18449131180973638];
          const map = L.map("map").setView(location, 18);

          // Add a romantic styled map layer
          L.tileLayer(
            "https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",
            {
              maxZoom: 20,
              attribution:
                '&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>',
            }
          ).addTo(map);

          // Add popup directly
          L.popup({
            className: "custom-popup-wrapper",
            closeButton: false,
            autoClose: false,
            closeOnClick: false,
            closeOnEscapeKey: false,
          })
            .setLatLng(location)
            .setContent(
              '<div class="custom-popup">Notre premier regard<br>Collège la Madeleine 💕</div>'
            )
            .openOn(map);
        } catch (error) {
          console.error("Map initialization error:", error);
          // Fallback content or error message
          const mapContainer = document.getElementById("map");
          if (mapContainer) {
            mapContainer.innerHTML = `
              <div style="text-align: center; padding: 20px; background-color: #fff5f5; border-radius: 8px;">
                <p>Carte indisponible 😔</p>
                <p>Notre lieu de rencontre : Collège la Madeleine, Le Mans</p>
              </div>
            `;
          }
        }
      });
    </script>
  </body>
</html>
